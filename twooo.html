<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript Form Validation</title>
    <link rel="stylesheet" href="stylej.css">
    <script>
    function clearErrors(){

        errors = document.getElementsByClassName('formerror');
        for(let item of errors)
        {
            item.innerHTML = "";
        }
    
    }
    function seterror(id, error){
        //sets error inside tag of id 
        element = document.getElementById(id);
        element.getElementsByClassName('formerror')[0].innerHTML = error;
    
    }
    
    function validateForm(){
        var returnval = true;
        clearErrors();
    
        //perform validation and if validation fails, set the value of returnval to false
        var name1= document.forms['myForm']["fname"].value;
        var reg=/^[a-zA-Z]+$/;
        if (name1.length<3){
            seterror("name1", "*Length of name is too short");
            returnval = false;
        }
    
        if (name1.length == 0){
            seterror("name1", "*Length of name cannot be zero!");
            returnval = false;
        }
        if(!(reg.test(name1)))
        {
            seterror("name1", "*Only alphabets allowed!!");
            returnval = false;
        }
        var name2= document.forms['myForm']["lname"].value;
   
        if (name2.length<3){
            seterror("name2", "*Length of name is too short");
            returnval = false;
        }
    
        if (name2.length == 0){
            seterror("name2", "*Length of name cannot be zero!");
            returnval = false;
        }
        if(!(reg.test(name2)))
        {
            seterror("name2","*Only alphabets allowed!!");
            
            returnval = false;
        }
        // var name2 = document.forms['myForm']["lname"].value;
        // if (name2.length<5){
        //     seterror("name", "*Length of name is too short");
        //     returnval = false;
        // }
    
        // if (name2.length == 0){
        //     seterror("name2", "*Length of name cannot be zero!");
        //     returnval = false;
        // }
         
        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        var email = document.forms['myForm']["femail"].value;
        
        if (!email.match(mailformat)){
            seterror("email", "*Email invalid");
            returnval = false;
        }

    
        var password = document.forms['myForm']["fpass"].value;
        if (password.length < 6){
          
            seterror("pass", "*Password should be atleast 6 characters long!");
            returnval = false;
        }
    
        var cpassword = document.forms['myForm']["fcpass"].value;
        if (cpassword != password){
            seterror("cpass", "*Password and Confirm password should match!");
            returnval = false;
        }
        if(password.search(/[0-9]/)==-1)
    {
        seterror("pass", "*Password should contain a digit");
            returnval = false;
     
      returnval=false;
    }
    if(password.search(/[a-z]/)==-1)
    {
        seterror("pass", "*Password should contain a lower case character!!");
      returnval=false;
    }
    if(password.search(/[A-Z]/)==-1){
        seterror("pass", "*Password should contain an upper case character!!");
      returnval=false;  
    }
    if(password.search(/[!\@\#\$\%\^\&\{\}\_\+\.\<\;\:]/)==-1){
        seterror("pass", "*Password should contain a special character!!");
      returnval=false;
    }
        if(returnval==true)
          alert("submitted successfully!!");
        return returnval;
    }
</script>
</head>

<body>
    
    <form name="myForm" onsubmit="return validateForm()" method="post" id="f">
        <h1 style="color:white">FORM</h1></p>
        <div class="formdesign" id="name1">
            Name: <input type="text" name="fname" required><b><span class="formerror"> </span></b>
        </div>
        <div class="formdesign" id="name2">
            Last Name: <input type="text" name="lname" required><b><span class="formerror"> </span></b>
        </div>

        <div class="formdesign" id="email">
            Email: <input type="text" name="femail" required><b><span class="formerror"> </span></b>
        </div>

        <div class="formdesign" id="pass">
            Password: <input type="password" name="fpass" required><b><span class="formerror"></span></b>
        </div>

        <div class="formdesign" id="cpass">
            Confirm Password: <input type="password" name="fcpass" required><b><span class="formerror"></span></b>
        </div>

        <input class="but" type="submit" value="Submit">
        <div id="sub"></div>
    </form>
</body>

</html>
